<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Football Derivatives Model</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div class="container">
        <!-- LEFT COLUMN: API LOADER & INPUTS -->
        <div class="sidebar-column">
            <!-- API MATCH LOADER -->
            <div class="card" id="apiMatchLoader" style="margin-bottom: 20px;">
                <div class="card-header" onclick="toggleCard('apiMatchLoader')">
                    <h2>0. Select Match</h2>
                </div>
                <div class="card-content">
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div>
                            <label
                                style="font-size: 0.7rem; color: #64748b; font-weight: 600; display: block; margin-bottom: 4px;">COUNTRY</label>
                            <select id="apiCountrySelect"
                                style="width: 100%; padding: 8px; border: 1px solid var(--border); border-radius: 6px; background: #0f172a; color: white;">
                                <option value="">Loading...</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="font-size: 0.7rem; color: #64748b; font-weight: 600; display: block; margin-bottom: 4px;">COMPETITION</label>
                            <select id="apiLeagueSelect"
                                style="width: 100%; padding: 8px; border: 1px solid var(--border); border-radius: 6px; background: #0f172a; color: white;"
                                disabled>
                                <option value="">Select country</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="font-size: 0.7rem; color: #64748b; font-weight: 600; display: block; margin-bottom: 4px;">MATCH</label>
                            <select id="apiMatchSelect"
                                style="width: 100%; padding: 8px; border: 1px solid var(--border); border-radius: 6px; background: #334155; color: white;"
                                disabled>
                                <option value="">Select competition</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- INPUT ODDS -->
            <div class="card" id="inputCard">
                <div class="card-header" onclick="toggleCard('inputCard')">
                    <h2>1. Input Odds</h2>
                </div>
                <div class="card-content">
                    <h3>1x2 Odds</h3>
                    <div class="input-group">
                        <label>Home</label>
                        <input type="number" id="homeOdds" step="0.01" value="2.10" oninput="runModel()">
                    </div>
                    <div class="input-group">
                        <label>Draw</label>
                        <input type="number" id="drawOdds" step="0.01" value="3.40" oninput="runModel()">
                    </div>
                    <div class="input-group">
                        <label>Away</label>
                        <input type="number" id="awayOdds" step="0.01" value="3.50" oninput="runModel()">
                    </div>

                    <h3>Goal Line</h3>
                    <div class="input-group">
                        <label>Line</label>
                        <input type="number" id="goalLine" step="0.5" value="2.5" oninput="runModel()">
                    </div>
                    <div class="input-group">
                        <label id="overLabel">Over</label>
                        <input type="number" id="overOdds" step="0.01" value="1.95" oninput="runModel()">
                    </div>
                    <div class="input-group">
                        <label id="underLabel">Under</label>
                        <input type="number" id="underOdds" step="0.01" value="1.90" oninput="runModel()">
                    </div>

                    <h3 style="margin-top: 20px;">Reverse λ / μ</h3>
                    <div class="stat-grid">
                        <div class="stat-box">
                            <div class="stat-val" id="xgHome">-</div>
                            <div class="stat-label">Home λ</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-val" id="xgAway">-</div>
                            <div class="stat-label">Away μ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLUMN 2: FULL TIME MARKETS -->
        <div class="main-content">
            <div class="card hidden" id="ftArea">
                <div class="card-header" onclick="toggleCard('ftArea')">
                    <h2>2. Full Time Markets</h2>
                </div>
                <div class="card-content">
                    <h3 style="font-size: 0.9rem;">Match Result / Double Chance</h3>
                    <div class="stat-grid" style="grid-template-columns: repeat(3, 1fr);">
                        <div class="stat-box">
                            <div class="stat-val prob-val" id="shinHome">-</div>
                            <div class="stat-label">Home</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-val prob-val" id="shinDraw">-</div>
                            <div class="stat-label">Draw</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-val prob-val" id="shinAway">-</div>
                            <div class="stat-label">Away</div>
                        </div>
                    </div>
                    <table style="margin-bottom: 20px;">
                        <tbody id="ftDcTable"></tbody>
                    </table>

                    <h3 style="margin-top: 20px;">Draw No Bet</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="ftDnbTable"></tbody>
                    </table>

                    <h3 style="margin-top: 20px;">BTTS (Yes/No)</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="bttsTable"></tbody>
                    </table>

                    <h3>Total Goals (FT)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Line</th>
                                <th class="num-col">Over</th>
                                <th class="num-col">Under</th>
                            </tr>
                        </thead>
                        <tbody id="totalGoalsTable"></tbody>
                    </table>

                    <h3 style="margin-top: 20px;">Total Goals Range (FT)</h3>
                    <table style="font-size: 0.85rem;">
                        <tbody id="totalSpreadTable"></tbody>
                    </table>

                    <h3 style="margin-top: 20px;">Result & Totals (2.5)</h3>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Outcome</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="comboTable"></tbody>
                    </table>

                    <h3 style="margin-top: 20px;">HT / FT</h3>
                    <table style="font-size: 0.85rem; margin-bottom: 20px;">
                        <thead>
                            <tr>
                                <th>HT/FT</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="htftTable"></tbody>
                    </table>




                </div>
            </div>

            <!-- ASIAN HANDICAP BLOCK -->
            <div class="card hidden" id="ahArea" style="margin-top: 20px;">
                <div class="card-header" onclick="toggleCard('ahArea')">
                    <h2>Asian Handicap</h2>
                </div>
                <div class="card-content">
                    <table>
                        <thead>
                            <tr>
                                <th>Line</th>
                                <th class="num-col">Home</th>
                                <th class="num-col">Away</th>
                            </tr>
                        </thead>
                        <tbody id="ahTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- DRAW COMBINATIONS BLOCK -->
            <div class="card hidden" id="drawComboArea" style="margin-top: 20px;">
                <div class="card-header" onclick="toggleCard('drawComboArea')">
                    <h2>8. Draw Combinations</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        Interval Draw correlations
                    </p>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="drawComboTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- DOUBLE CHANCE COMBINATIONS BLOCK -->
            <div class="card hidden" id="dcComboArea" style="margin-top: 20px;">
                <div class="card-header" onclick="toggleCard('dcComboArea')">
                    <h2>9. Double Chance Combinations</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        Join Interval Double Chance outcomes
                    </p>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="dcComboTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- HT/FT COMBINATIONS BLOCK -->
            <div class="card hidden" id="htftComboArea" style="margin-top: 20px;">
                <div class="card-header" onclick="toggleCard('htftComboArea')">
                    <h2>10. HT/FT Combinations</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        HT/FT joint outcome correlations
                    </p>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="htftComboTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- HOME TEAM GOALS COMBINATIONS BLOCK -->
            <div class="card hidden" id="homeGoalComboArea" style="margin-top: 20px;">
                <div class="card-header" onclick="toggleCard('homeGoalComboArea')">
                    <h2>11. Home Team Goals Combinations</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        T1 = Home Team
                    </p>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="homeGoalComboTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- AWAY TEAM GOALS COMBINATIONS BLOCK -->
            <div class="card hidden" id="awayGoalComboArea" style="margin-top: 20px;">
                <div class="card-header" onclick="toggleCard('awayGoalComboArea')">
                    <h2>12. Away Team Goals Combinations</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        T2 = Away Team
                    </p>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="awayGoalComboTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- HOME TEAM BLOCK -->
            <div class="card hidden" id="homeTeamArea" style="margin-top: 20px;">
                <div class="card-header" onclick="toggleCard('homeTeamArea')">
                    <h2>5. Home Team Markets</h2>
                </div>
                <div class="card-content">
                    <div class="two-col-grid">
                        <div>
                            <h3 style="font-size: 0.9rem;">Team Goals (FT)</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Line</th>
                                        <th class="num-col">Over</th>
                                        <th class="num-col">Under</th>
                                    </tr>
                                </thead>
                                <tbody id="homeFtTable"></tbody>
                            </table>
                        </div>
                        <div>
                            <h3 style="font-size: 0.9rem;">Team Goals (1H)</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Line</th>
                                        <th class="num-col">Over</th>
                                        <th class="num-col">Under</th>
                                    </tr>
                                </thead>
                                <tbody id="home1hTable"></tbody>
                            </table>
                            <h3 style="font-size: 0.9rem; margin-top: 15px;">Team Goals (2H)</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Line</th>
                                        <th class="num-col">Over</th>
                                        <th class="num-col">Under</th>
                                    </tr>
                                </thead>
                                <tbody id="home2hTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <h3 style="font-size: 0.9rem;">Exact Goals (FT)</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="homeExactTable"></tbody>
                    </table>

                    <h3 style="font-size: 0.9rem;">Goal Spreads (FT)</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="homeSpreadTable"></tbody>
                    </table>

                    <h3 style="font-size: 0.9rem;">Win Combinations</h3>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="homeWinComboTable"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- COLUMN 3: INTERVAL MARKETS -->
        <div class="markets-content">
            <!-- 1ST HALF BLOCK -->
            <div class="card hidden" id="fhArea" style="margin-bottom: 20px;">
                <div class="card-header" onclick="toggleCard('fhArea')">
                    <h2>3. 1st Half Markets</h2>
                </div>
                <div class="card-content">
                    <h3>1H 1X2</h3>
                    <table style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Outcome</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="fh1x2Table"></tbody>
                    </table>

                    <h3>1H Goals</h3>
                    <table style="margin-bottom: 20px;">
                        <thead>
                            <tr>
                                <th>Line</th>
                                <th class="num-col">Over</th>
                                <th class="num-col">Under</th>
                            </tr>
                        </thead>
                        <tbody id="fhGoalsTable"></tbody>
                    </table>

                    <div class="two-col-grid">
                        <div>
                            <h3 style="font-size: 0.9rem;">1H BTTS</h3>
                            <table>
                                <tbody id="fhBttsTable"></tbody>
                            </table>
                        </div>
                        <div>
                            <h3 style="font-size: 0.9rem;">1H DC</h3>
                            <table>
                                <tbody id="fhDcTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <h3 style="font-size: 0.9rem;">1H Exact Goals</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="fhExactTable"></tbody>
                    </table>

                    <h3 style="font-size: 0.9rem;">1H Goal Spreads</h3>
                    <table>
                        <tbody id="fhSpreadTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- 2ND HALF BLOCK -->
            <div class="card hidden" id="shArea">
                <div class="card-header" onclick="toggleCard('shArea')">
                    <h2>4. 2nd Half Markets</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">Independent
                        2H goals</p>

                    <h3>2H 1X2</h3>
                    <table style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Outcome</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="sh1x2Table"></tbody>
                    </table>

                    <h3>2H Goals</h3>
                    <table style="margin-bottom: 20px;">
                        <thead>
                            <tr>
                                <th>Line</th>
                                <th class="num-col">Over</th>
                                <th class="num-col">Under</th>
                            </tr>
                        </thead>
                        <tbody id="shGoalsTable"></tbody>
                    </table>

                    <div class="two-col-grid">
                        <div>
                            <h3 style="font-size: 0.9rem;">2H BTTS</h3>
                            <table>
                                <tbody id="shBttsTable"></tbody>
                            </table>
                        </div>
                        <div>
                            <h3 style="font-size: 0.9rem;">2H DC</h3>
                            <table>
                                <tbody id="shDcTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <h3 style="font-size: 0.9rem;">2H Exact Goals</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="shExactTable"></tbody>
                    </table>

                    <h3 style="font-size: 0.9rem;">2H Goal Spreads</h3>
                    <table>
                        <tbody id="shSpreadTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- AWAY TEAM BLOCK -->
            <div class="card hidden" id="awayTeamArea" style="margin-top: 20px; margin-bottom: 20px;">
                <div class="card-header" onclick="toggleCard('awayTeamArea')">
                    <h2>6. Away Team Markets</h2>
                </div>
                <div class="card-content">
                    <div class="two-col-grid">
                        <div>
                            <h3 style="font-size: 0.9rem;">Team Goals (FT)</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Line</th>
                                        <th class="num-col">Over</th>
                                        <th class="num-col">Under</th>
                                    </tr>
                                </thead>
                                <tbody id="awayFtTable"></tbody>
                            </table>
                        </div>
                        <div>
                            <h3 style="font-size: 0.9rem;">Team Goals (1H)</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Line</th>
                                        <th class="num-col">Over</th>
                                        <th class="num-col">Under</th>
                                    </tr>
                                </thead>
                                <tbody id="away1hTable"></tbody>
                            </table>
                            <h3 style="font-size: 0.9rem; margin-top: 15px;">Team Goals (2H)</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Line</th>
                                        <th class="num-col">Over</th>
                                        <th class="num-col">Under</th>
                                    </tr>
                                </thead>
                                <tbody id="away2hTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <h3 style="font-size: 0.9rem;">Exact Goals (FT)</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="awayExactTable"></tbody>
                    </table>

                    <h3 style="font-size: 0.9rem;">Goal Spreads (FT)</h3>
                    <table style="margin-bottom: 20px;">
                        <tbody id="awaySpreadTable"></tbody>
                    </table>

                    <h3 style="font-size: 0.9rem;">Win Combinations</h3>
                    <table style="font-size: 0.85rem;">
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="awayWinComboTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- GOALS COMBINATIONS BLOCK -->
            <div class="card hidden" id="goalComboArea">
                <div class="card-header" onclick="toggleCard('goalComboArea')">
                    <h2>7. Goals Combinations</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        I = 1st Half, II = 2nd Half
                    </p>
                    <table>
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="intervalComboTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- BTTS COMBINATIONS BLOCK -->
            <div class="card hidden" id="bttsComboArea">
                <div class="card-header" onclick="toggleCard('bttsComboArea')">
                    <h2>8. BTTS Combinations</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        GG = Both Teams to Score (FT), IGG = BTTS 1H, IIGG = BTTS 2H
                    </p>
                    <table>
                        <thead>
                            <tr>
                                <th>Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="bttsComboTable"></tbody>
                    </table>
                </div>
            </div>
            <!-- FIRST TEAM TO SCORE BLOCK -->
            <div class="card hidden" id="ftsComboArea">
                <div class="card-header" onclick="toggleCard('ftsComboArea')">
                    <h2>9. First Team to Score</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 0.75rem; color: #64748b; margin-top: -10px; margin-bottom: 15px;">
                        T1 = Home, T2 = Away, no = No goals. I = 1H, II = 2H.
                    </p>
                    <table>
                        <thead>
                            <tr>
                                <th>Market / Combination</th>
                                <th class="num-col">Prob</th>
                                <th class="num-col">Odds</th>
                            </tr>
                        </thead>
                        <tbody id="ftsComboTable"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleCard(id) {
            document.getElementById(id).classList.toggle('collapsed');
        }
    </script>
    <script src="model.js"></script>
</body>

</html>
